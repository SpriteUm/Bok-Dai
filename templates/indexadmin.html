<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-[#E6E8E5] text-[#2F4F2F]">
  <div class="min-h-screen flex">

    <!-- Sidebar -->
    <aside class="w-60 bg-[#5C7F5C] text-white flex flex-col">
      <div class="px-4 py-4 border-b border-[#8FAF8F]">
        <h1 class="text-lg font-bold">BOK DAI</h1>
        <p class="text-xs text-[#C2D3C2]">ระบบผู้ดูแล</p>
      </div>
      <nav class="flex-1 px-4 py-4 space-y-2 text-sm">
        <a href="#" class="block px-2 py-1 rounded bg-[#C2D3C2] text-[#2F4F2F] font-medium">หน้าหลัก</a>
        <a href="#" class="block px-2 py-1 rounded hover:bg-[#8FAF8F]">แผนที่</a>
        <a href="#" class="block px-2 py-1 rounded hover:bg-[#8FAF8F]">กรอบปัญหา</a>
        <a href="#" class="block px-2 py-1 rounded hover:bg-[#8FAF8F]">อัปเดตสถานะ</a>
        <a href="#" class="block px-2 py-1 rounded hover:bg-[#8FAF8F]">รายงาน</a>
        <a href="#" class="block px-2 py-1 rounded hover:bg-[#8FAF8F]">ออกจากระบบ</a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-4 flex flex-col gap-6">

      <!-- Header -->
      <header>
        <h2 class="text-xl font-semibold">ภาพรวมสถานะ</h2>
        <p class="text-xs text-[#8FAF8F]">ระบบจัดการปัญหาในพื้นที่</p>
      </header>

      <!-- Summary Cards -->
      <section>
        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3">
          <div class="bg-white border border-[#8FAF8F] rounded-lg p-2 shadow">
            <h3 class="text-xs font-medium">รายงานทั้งหมด</h3>
            <p class="text-xl font-bold text-[#5C7F5C]">42</p>
          </div>
          <div class="bg-white border border-[#8FAF8F] rounded-lg p-2 shadow">
            <h3 class="text-xs font-medium">รอรับเรื่อง</h3>
            <p class="text-xl font-bold text-yellow-500">5</p>
          </div>
          <div class="bg-white border border-[#8FAF8F] rounded-lg p-2 shadow">
            <h3 class="text-xs font-medium">กำลังดำเนินการ</h3>
            <p class="text-xl font-bold text-orange-500">5</p>
          </div>
          <div class="bg-white border border-[#8FAF8F] rounded-lg p-2 shadow">
            <h3 class="text-xs font-medium">สำเร็จแล้ว</h3>
            <p class="text-xl font-bold text-green-600">7</p>
          </div>
          <div class="bg-white border border-[#8FAF8F] rounded-lg p-2 shadow">
            <h3 class="text-xs font-medium">ปัญหาใหม่วันนี้</h3>
            <p class="text-xl font-bold text-[#5C7F5C]">3</p>
          </div>
          <div class="bg-white border border-[#8FAF8F] rounded-lg p-2 shadow">
            <h3 class="text-xs font-medium">เร่งด่วนมาก</h3>
            <p class="text-xl font-bold text-red-600">12</p>
          </div>
        </div>
      </section>

      <!-- Chart + Notifications -->
      <section class="flex flex-wrap gap-4">
        <!-- Chart -->
        <div class="bg-white border border-[#8FAF8F] rounded-lg shadow"
             style="flex: 1 1 40%; min-width: 50px;">
          <div class="p-4">
            <h3 class="text-sm font-medium mb-2">ปัญหาที่พบโดยเฉลี่ย</h3>
            <div class="relative" style="height: 150px;">
              <canvas id="issueChart" class="absolute inset-0 w-full h-full"></canvas>
            </div>
          </div>
        </div>

        <!-- Notifications -->
        <div class="bg-white border border-[#8FAF8F] rounded-lg shadow"
             style="flex: 1 1 20%; min-width: 60px;">
          <div class="p-4">
            <h3 class="text-sm font-medium mb-2">การแจ้งเตือน</h3>
            <ul class="list-disc pl-5 text-sm space-y-1">
              <li>รอรับเรื่องเกิน 3 วัน: 2 รายการ</li>
              <li>ข้อความจากผู้ใช้งาน: 1 ฉบับใหม่</li>
              <li>ระบบอัปเดตสถานะอัตโนมัติทุก 24 ชั่วโมง</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Recent Issues -->
      <section>
        <h3 class="text-sm font-medium mb-2">ปัญหาล่าสุด</h3>
        <div class="bg-white border border-[#8FAF8F] rounded-lg shadow overflow-x-auto">
          <table class="min-w-full text-xs">
            <thead class="bg-[#C2D3C2] text-[#2F4F2F]">
              <tr>
                <th class="px-2 py-1 text-left">หมวดหมู่</th>
                <th class="px-2 py-1 text-left">รายละเอียด</th>
                <th class="px-2 py-1 text-left">วันที่แจ้ง</th>
                <th class="px-2 py-1 text-left">ความเร่งด่วน</th>
                <th class="px-2 py-1 text-left">สถานะ</th>
                <th class="px-2 py-1 text-left">พื้นที่</th>
                <th class="px-2 py-1 text-left">แผนที่</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-[#E6E8E5]">
              <tr>
                <td class="px-2 py-1">ถนน</td>
                <td class="px-2 py-1">ถนนพังเป็นหลุมบ่อ</td>
                <td class="px-2 py-1">2025-09-20</td>
                <td class="px-2 py-1 text-red-600">เร่งด่วนมาก</td>
                <td class="px-2 py-1 text-yellow-600">กำลังดำเนินการ</td>
                <td class="px-2 py-1">หน้าบ้านพักครู</td>
                <td class="px-2 py-1">
                  <a href="https://www.google.com/maps?q=13.9876,100.1234"
                     class="text-blue-600 underline" target="_blank">ดูแผนที่</a>
                </td>
              </tr>
              <!-- เพิ่มข้อมูลจริงที่นี่ -->
            </tbody>
          </table>
        </div>
      </section>

    </main>
  </div>

  <!-- Chart.js Initialization -->
  <script>
    const ctx = document.getElementById('issueChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['ถนน','น้ำท่วม','ไฟฟ้า'],
        datasets: [{
          data: [20,12,10],
          backgroundColor: ['#5C7F5C','#8FAF8F','#C2D3C2'],
          borderColor: '#2F4F2F',
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: {
          y: { beginAtZero: true, ticks: { color: '#2F4F2F' } },
          x: { ticks: { color: '#2F4F2F' } }
        }
      }
    });
  </script>
</body>
</html>
